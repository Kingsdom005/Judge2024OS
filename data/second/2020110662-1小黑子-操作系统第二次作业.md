# 操作系统第二次作业

## 1.实验内容

​	(1) 创建两个线程，在每个线程里对同一个初始值为0的变量进行10万次数值+1操作，使它们进入一个竞争状态，观察该变量最后的值是否为20万。(1分)

​	(2) 分别使用互斥锁（2分）和Peterson方法（2分）实现解决（1）中的竞争条件问题，并比较两者的性能。在实验过程中观察最终结果是否符合预期，如果不符合预期请给出原因和解决方案。

​	(3) 使用对一般信号量的P操作和V操作解决（1）中的临界区冲突问题；在实验过程中观察最终结果是否符合预期，如果不符合预期请进行相关记录并给出原因和解决方案。（2分）

​	(4) 使用信号量实现生产者和消费者问题，要求在生产者和消费者线程之间实现一个有界缓冲区，研究分析两个线程的并发行为。（3分）

## 2.实验思路

### 2.1 线程竞争

实验思路1

### 2.2 互斥锁和Peterson方法

#### 2.2.1 互斥锁

实验思路2

#### 2.2.2 Peterson方法

实验思路2

### 2.3 PV操作

实验思路3

### 2.4 生产者消费者问题

实验思路4，缓冲区

## 3.实验源码

### 3.1 线程竞争

```
using namespace std;
def hello1():
	echo test
```



### 3.2 互斥锁和Peterson方法

#### 3.2.1 互斥锁

```
using namespace std;
def cook():
	print("hello world")
```

#### 3.2.2 Peterson方法

```
using namespace std;
def cook2():
	print("hello world")
```

### 3.3 PV操作

```
import opencv
def PVV():
	printf("pfff")
```



### 3.4 生产者消费者问题

```
include <iostream>
using namespace std;
int main()
{
	cout<<"producer"<<" "<<"consumer"<<endl;
	return 0;
}
```



## 4.实验结果

### 4.1 线程竞争

* 测试结果： 变量值a<10000

* 原理分析：我爱分析原理

### 4.2 互斥锁和Peterson方法

#### 4.2.1 互斥锁

* 测试结果： 变量值b=200000

* 原理分析：我爱分析原理

#### 4.2.2 Peterson方法

* 测试结果： 变量值c=200000

* 原理分析：我爱分析原理

### 4.3 PV操作

* 测试结果：变量值d=200000

* 原理分析：我爱分析原理

### 4.4 生产者消费者问题

* 测试结果：变量值爱分析原1000理e呵呵a

* 原理分析：我爱分析原理。。haha我爱分析原理。。haha



## 5.实验总结与反思

这里是实验总结与反思、实验总结与反思、实验总结与反思、实验总结与反思、实验总结与反思、实验总结与反思。

